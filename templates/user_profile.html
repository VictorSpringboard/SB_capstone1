{% extends 'base.html' %}


    {% block title %}
        <title>User Profile Page</title>
    {% endblock %}
    
    {% block body %}

                    <h2>My Info</h2>
                    <img src="{{user.img}}" alt="" width="300">
                    <p>Username: {{user.username}}</p>
                    <p>Email: {{user.email}}</p>
                    <p>About: {{user.bio}}</p>
                    
                    <form action="/users/{{user.id}}/messages">
                      <button>View my messages</button>
                    </form>

                    <h2>My favorite recipes</h2>
    
                    <ol>
                        {% for fav in favorites %}
                        <li><a href="/recipe_details/{{fav.recipe_id}}">{{fav.title}}</a></li>
                        {% endfor %}
                    </ol>

                    <h3>These are my matches</h3>
                    <ol>
                      {% for match in my_matches %}
                        <li>{{match}}</li>
                      {% endfor %}
                    </ol>


                    <h3>Testing Area</h3>
                    {% if g.user.id == user.id %}

                        <p>This is my profile</p>

                    {% else %}
                        <p>This is not my profile</p>

                        {% if user.id in my_match_ids %}
                          <p>I like this person</p>
                                {% if g.user.id in their_match_ids %}
                                  <p>This person likes me</p>
                                  <form action="/send_message/{{user.username}}">
                                    <button>Send them a message</button>
                                  </form>
                                {% else %}
                                  <p>This person doesn't like me</p>
                                  <form action="/users/{{g.user.id}}/add_to_matches/{{user.id}}">
                                    <button>Add them to my matches</button>
                                  </form>
                                {% endif %}
                        {% endif %}
                          
                    {% endif %}






    {% endblock body %}